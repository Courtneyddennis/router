{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\FSA\\\\Phase 2\\\\router\\\\src\\\\components\\\\Login.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login(_ref) {\n  _s();\n  let {\n    setToken\n  } = _ref;\n  // return <div>Login</div>\n  const [userName, setUserName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const navigate = useNavigate();\n\n  // creating a fetch request for login form \n\n  async function loginUser(event) {\n    event.preventDefault();\n    console.log(userName, password);\n    try {\n      const response = await fetch('https://strangers-things.herokuapp.com/api/2211-ftb-ct-web-pt/users/login', {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          user: {\n            username: userName,\n            password: password\n          }\n        })\n      });\n      let result = await response.json();\n      console.log(result);\n      console.log(result.data.token);\n      setToken(result.data.token);\n      localStorage.setItem(\"token\", result.data.token);\n      localStorage.setItem(\"userName\");\n      navigate(`/Profile/${userName}`);\n    } catch (err) {\n      console.log(err);\n    }\n  }\n  return (\n    /*#__PURE__*/\n    //create a login form \n    _jsxDEV(\"form\", {\n      onSubmit: event => loginUser(event),\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Username:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: userName,\n        onChange: event => setUserName(event.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Password:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        value: password,\n        onChange: event => setPassword(event.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this)\n  );\n}\n_s(Login, \"5N/P2MN7s+m11aj7iJqk5viCeeE=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","useEffect","useNavigate","Login","setToken","userName","setUserName","password","setPassword","navigate","loginUser","event","preventDefault","console","log","response","fetch","method","headers","body","JSON","stringify","user","username","result","json","data","token","localStorage","setItem","err","target","value"],"sources":["C:/Users/User/Desktop/FSA/Phase 2/router/src/components/Login.js"],"sourcesContent":["import {useState,useEffect} from \"react\"\r\nimport {useNavigate} from \"react-router-dom\";\r\n\r\nexport default function Login({setToken}){\r\n    // return <div>Login</div>\r\n    const[userName,setUserName]=useState(\"\")\r\n    const[password,setPassword]=useState(\"\")\r\n    const navigate = useNavigate();\r\n\r\n\r\n    // creating a fetch request for login form \r\n\r\n    async function loginUser(event){\r\n        event.preventDefault()\r\n        console.log(userName, password)\r\n        try{\r\n            const response = await fetch('https://strangers-things.herokuapp.com/api/2211-ftb-ct-web-pt/users/login',{\r\n                method: \"POST\",\r\n                headers:{\r\n                    'Content-Type': 'application/json'\r\n                    },\r\n                    body: JSON.stringify({\r\n                        user: {\r\n                        username: userName,\r\n                        password: password\r\n                    }\r\n                })\r\n                \r\n            }\r\n            \r\n            )\r\n            let result = await response.json()\r\n            console.log(result)\r\n            console.log(result.data.token)\r\n            setToken(result.data.token)\r\n            localStorage.setItem(\"token\",result.data.token)\r\n            localStorage.setItem(\"userName\",)\r\n            navigate(`/Profile/${userName}`)\r\n           \r\n        }catch(err){\r\n            console.log(err)\r\n        }\r\n    }\r\n    return(\r\n        //create a login form \r\n        <form onSubmit={(event)=>loginUser(event)}>\r\n            <label>Username:</label>\r\n            <input type=\"text\" value={userName} onChange=\r\n            {(event)=>setUserName(event.target.value)}></input>\r\n\r\n            <label>Password:</label>\r\n            <input type=\"password\" value={password} onChange=\r\n            {(event)=>setPassword(event.target.value)}></input>\r\n            <button type=\"submit\">Login</button>\r\n        </form>\r\n    )\r\n\r\n}\r\n\r\n\r\n\r\n\r\n"],"mappings":";;AAAA,SAAQA,QAAQ,EAACC,SAAS,QAAO,OAAO;AACxC,SAAQC,WAAW,QAAO,kBAAkB;AAAC;AAE7C,eAAe,SAASC,KAAK,OAAY;EAAA;EAAA,IAAX;IAACC;EAAQ,CAAC;EACpC;EACA,MAAK,CAACC,QAAQ,EAACC,WAAW,CAAC,GAACN,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAK,CAACO,QAAQ,EAACC,WAAW,CAAC,GAACR,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAMS,QAAQ,GAAGP,WAAW,EAAE;;EAG9B;;EAEA,eAAeQ,SAAS,CAACC,KAAK,EAAC;IAC3BA,KAAK,CAACC,cAAc,EAAE;IACtBC,OAAO,CAACC,GAAG,CAACT,QAAQ,EAAEE,QAAQ,CAAC;IAC/B,IAAG;MACC,MAAMQ,QAAQ,GAAG,MAAMC,KAAK,CAAC,2EAA2E,EAAC;QACrGC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAC;UACJ,cAAc,EAAE;QAChB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACjBC,IAAI,EAAE;YACNC,QAAQ,EAAElB,QAAQ;YAClBE,QAAQ,EAAEA;UACd;QACJ,CAAC;MAEL,CAAC,CAEA;MACD,IAAIiB,MAAM,GAAG,MAAMT,QAAQ,CAACU,IAAI,EAAE;MAClCZ,OAAO,CAACC,GAAG,CAACU,MAAM,CAAC;MACnBX,OAAO,CAACC,GAAG,CAACU,MAAM,CAACE,IAAI,CAACC,KAAK,CAAC;MAC9BvB,QAAQ,CAACoB,MAAM,CAACE,IAAI,CAACC,KAAK,CAAC;MAC3BC,YAAY,CAACC,OAAO,CAAC,OAAO,EAACL,MAAM,CAACE,IAAI,CAACC,KAAK,CAAC;MAC/CC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAE;MACjCpB,QAAQ,CAAE,YAAWJ,QAAS,EAAC,CAAC;IAEpC,CAAC,QAAMyB,GAAG,EAAC;MACPjB,OAAO,CAACC,GAAG,CAACgB,GAAG,CAAC;IACpB;EACJ;EACA;IAAA;IACI;IACA;MAAM,QAAQ,EAAGnB,KAAK,IAAGD,SAAS,CAACC,KAAK,CAAE;MAAA,wBACtC;QAAA,UAAO;MAAS;QAAA;QAAA;QAAA;MAAA,QAAQ,eACxB;QAAO,IAAI,EAAC,MAAM;QAAC,KAAK,EAAEN,QAAS;QAAC,QAAQ,EAC1CM,KAAK,IAAGL,WAAW,CAACK,KAAK,CAACoB,MAAM,CAACC,KAAK;MAAE;QAAA;QAAA;QAAA;MAAA,QAAS,eAEnD;QAAA,UAAO;MAAS;QAAA;QAAA;QAAA;MAAA,QAAQ,eACxB;QAAO,IAAI,EAAC,UAAU;QAAC,KAAK,EAAEzB,QAAS;QAAC,QAAQ,EAC9CI,KAAK,IAAGH,WAAW,CAACG,KAAK,CAACoB,MAAM,CAACC,KAAK;MAAE;QAAA;QAAA;QAAA;MAAA,QAAS,eACnD;QAAQ,IAAI,EAAC,QAAQ;QAAA,UAAC;MAAK;QAAA;QAAA;QAAA;MAAA,QAAS;IAAA;MAAA;MAAA;MAAA;IAAA;EACjC;AAGf;AAAC,GAtDuB7B,KAAK;EAAA,QAIRD,WAAW;AAAA;AAAA,KAJRC,KAAK;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}