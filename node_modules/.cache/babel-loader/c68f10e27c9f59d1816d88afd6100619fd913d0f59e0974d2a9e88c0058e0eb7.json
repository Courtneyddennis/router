{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/User/Desktop/FSA/Phase 2/router/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/User/Desktop/FSA/Phase 2/router/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/User/Desktop/FSA/Phase 2/router/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// import { create } from \"domain\"\nimport{useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Register(_ref){var setToken=_ref.setToken;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),registerUser=_useState2[0],setRegisterUser=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),createPassword=_useState4[0],setCreatePassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),confirmPassword=_useState6[0],setConfirmPassword=_useState6[1];function registerNewUser(_x){return _registerNewUser.apply(this,arguments);}function _registerNewUser(){_registerNewUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var response,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();console.log(registerUser,createPassword);_context.prev=2;_context.next=5;return fetch('https://strangers-things.herokuapp.com/api/2211-ftb-ct-web-pt/users/register',{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify({user:{username:registerUser,password:createPassword}})});case 5:response=_context.sent;_context.next=8;return response.json();case 8:result=_context.sent;setToken(result.data.token);localStorage.setItem(\"token\",result.data.token);_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](2);console.log(_context.t0);case 16:case\"end\":return _context.stop();}},_callee,null,[[2,13]]);}));return _registerNewUser.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(event){return registerNewUser(event);},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:registerUser,onChange:function onChange(event){return setRegisterUser(event.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:createPassword,onChange:function onChange(event){return setCreatePassword(event.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\"Confirm Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:confirmPassword,onChange:function onChange(event){return setConfirmPassword(event.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Register\"})]});}","map":{"version":3,"names":["useState","useEffect","Register","setToken","registerUser","setRegisterUser","createPassword","setCreatePassword","confirmPassword","setConfirmPassword","registerNewUser","event","preventDefault","console","log","fetch","method","headers","body","JSON","stringify","user","username","password","response","json","result","data","token","localStorage","setItem","target","value"],"sources":["C:/Users/User/Desktop/FSA/Phase 2/router/src/components/Register.js"],"sourcesContent":["// import { create } from \"domain\"\r\nimport {useState,useEffect} from \"react\"\r\n\r\n\r\nexport default function Register({setToken}){\r\n   \r\n    const[registerUser,setRegisterUser]=useState(\"\")\r\n    const[createPassword,setCreatePassword]=useState(\"\")\r\n    const[confirmPassword,setConfirmPassword]=useState(\"\")\r\n   \r\n\r\n    async function registerNewUser(event){\r\n        event.preventDefault()\r\n        console.log(registerUser, createPassword)\r\n        try{\r\n            const response = await fetch('https://strangers-things.herokuapp.com/api/2211-ftb-ct-web-pt/users/register',{\r\n                method: \"POST\",\r\n                headers:{\r\n                    'Content-Type': 'application/json'\r\n                    },\r\n                    body: JSON.stringify({\r\n                        user: {\r\n                        username: registerUser,\r\n                        password: createPassword\r\n                        }\r\n                    })\r\n\r\n            }\r\n\r\n            )\r\n            let result = await response.json()\r\n            \r\n            setToken(result.data.token)\r\n            localStorage.setItem(\"token\",result.data.token)\r\n           \r\n        }catch(err){\r\n            console.log(err)\r\n        }\r\n    }\r\n    return(\r\n        \r\n        <form onSubmit={(event)=>registerNewUser(event)}>\r\n            <label>Username:</label>\r\n            <input type=\"text\" value={registerUser} onChange=\r\n            {(event)=>setRegisterUser(event.target.value)}></input>\r\n\r\n            <label>Password:</label>\r\n            <input type=\"password\" value={createPassword} onChange=\r\n            {(event)=>setCreatePassword(event.target.value)}></input>\r\n\r\n            <label>Confirm Password:</label>\r\n            <input type=\"password\" value={confirmPassword} onChange=\r\n            {(event)=>setConfirmPassword(event.target.value)}></input>\r\n            {/* {createPassword==confirmPassword?<div>Passwords Match</div>:<div>Passwords Do Not Match!</div>} */}\r\n\r\n\r\n\r\n            <button type=\"submit\">Register</button>\r\n        </form>\r\n    )\r\n}\r\n"],"mappings":"0YAAA;AACA,OAAQA,QAAQ,CAACC,SAAS,KAAO,OAAO,yFAGxC,cAAe,SAASC,SAAQ,MAAY,IAAVC,SAAQ,MAARA,QAAQ,CAEtC,cAAoCH,QAAQ,CAAC,EAAE,CAAC,wCAA1CI,YAAY,eAACC,eAAe,eAClC,eAAwCL,QAAQ,CAAC,EAAE,CAAC,yCAA9CM,cAAc,eAACC,iBAAiB,eACtC,eAA0CP,QAAQ,CAAC,EAAE,CAAC,yCAAhDQ,eAAe,eAACC,kBAAkB,eAAc,QAGvCC,gBAAe,2JAA9B,iBAA+BC,KAAK,uIAChCA,KAAK,CAACC,cAAc,EAAE,CACtBC,OAAO,CAACC,GAAG,CAACV,YAAY,CAAEE,cAAc,CAAC,uCAEdS,MAAK,CAAC,8EAA8E,CAAC,CACxGC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAC,CACJ,cAAc,CAAE,kBAChB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACjBC,IAAI,CAAE,CACNC,QAAQ,CAAElB,YAAY,CACtBmB,QAAQ,CAAEjB,cACV,CACJ,CAAC,CAET,CAAC,CAEA,QAdKkB,QAAQ,qCAeKA,SAAQ,CAACC,IAAI,EAAE,QAA9BC,MAAM,eAEVvB,QAAQ,CAACuB,MAAM,CAACC,IAAI,CAACC,KAAK,CAAC,CAC3BC,YAAY,CAACC,OAAO,CAAC,OAAO,CAACJ,MAAM,CAACC,IAAI,CAACC,KAAK,CAAC,kFAG/Cf,OAAO,CAACC,GAAG,aAAK,qEAEvB,kDACD,mBAEI,cAAM,QAAQ,CAAE,kBAACH,KAAK,QAAGD,gBAAe,CAACC,KAAK,CAAC,EAAC,wBAC5C,uBAAO,WAAS,EAAQ,cACxB,cAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAEP,YAAa,CAAC,QAAQ,CAC/C,kBAACO,KAAK,QAAGN,gBAAe,CAACM,KAAK,CAACoB,MAAM,CAACC,KAAK,CAAC,EAAC,EAAS,cAEvD,uBAAO,WAAS,EAAQ,cACxB,cAAO,IAAI,CAAC,UAAU,CAAC,KAAK,CAAE1B,cAAe,CAAC,QAAQ,CACrD,kBAACK,KAAK,QAAGJ,kBAAiB,CAACI,KAAK,CAACoB,MAAM,CAACC,KAAK,CAAC,EAAC,EAAS,cAEzD,uBAAO,mBAAiB,EAAQ,cAChC,cAAO,IAAI,CAAC,UAAU,CAAC,KAAK,CAAExB,eAAgB,CAAC,QAAQ,CACtD,kBAACG,KAAK,QAAGF,mBAAkB,CAACE,KAAK,CAACoB,MAAM,CAACC,KAAK,CAAC,EAAC,EAAS,cAK1D,eAAQ,IAAI,CAAC,QAAQ,UAAC,UAAQ,EAAS,GACpC,CAEf"},"metadata":{},"sourceType":"module","externalDependencies":[]}