{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/User/Desktop/FSA/Phase 2/router/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/User/Desktop/FSA/Phase 2/router/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/User/Desktop/FSA/Phase 2/router/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function CreatePost(_ref){var token=_ref.token;var BASE=\"https://strangers-things.herokuapp.com/api/2211-ftb-ct-web-pt\";var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),price=_useState6[0],setPrice=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),willDeliver=_useState8[0],setWillDeliver=_useState8[1];var navigate=useNavigate();function createPosts(_x){return _createPosts.apply(this,arguments);}function _createPosts(){_createPosts=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var response,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return fetch(\"\".concat(BASE,\"/posts\"),{headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},method:\"POST\",body:JSON.stringify({post:{title:title,description:description,price:price,willDeliver:willDeliver}})});case 4:response=_context.sent;_context.next=7;return response.json();case 7:result=_context.sent;navigate('/Posts',{replace:true});_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 14:case\"end\":return _context.stop();}},_callee,null,[[1,11]]);}));return _createPosts.apply(this,arguments);}return/*#__PURE__*/ (//create a login form \n_jsxs(\"form\",{onSubmit:function onSubmit(event){return createPosts(event);},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Title:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:title,onChange:function onChange(event){return setTitle(event.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\"Description:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:description,onChange:function onChange(event){return setDescription(event.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\"Price:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:price,onChange:function onChange(event){return setPrice(event.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\"Will Deliver?\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",value:willDeliver,onChange:function onChange(event){return setWillDeliver(event.target.value);}}),/*#__PURE__*/_jsx(\"button\",{children:\"submit\"})]}));}","map":{"version":3,"names":["useState","useEffect","useNavigate","CreatePost","token","BASE","title","setTitle","description","setDescription","price","setPrice","willDeliver","setWillDeliver","navigate","createPosts","event","preventDefault","fetch","headers","method","body","JSON","stringify","post","response","json","result","replace","console","log","target","value"],"sources":["C:/Users/User/Desktop/FSA/Phase 2/router/src/components/CreatePost.js"],"sourcesContent":["import {useState,useEffect} from \"react\";\r\nimport {useNavigate} from \"react-router-dom\";\r\n\r\nexport default function CreatePost({token}){\r\n    const BASE = \"https://strangers-things.herokuapp.com/api/2211-ftb-ct-web-pt\"\r\n    const[title,setTitle]=useState(\"\")\r\n    const[description,setDescription]=useState(\"\")\r\n    const[price,setPrice]=useState(\"\")\r\n    const[willDeliver,setWillDeliver]=useState(true)\r\n    const navigate = useNavigate();\r\n\r\n\r\n\r\n    \r\n        async function createPosts(event){\r\n            event.preventDefault()\r\n             try{\r\n                 const response = await fetch(`${BASE}/posts`,{\r\n\r\n                     headers:{\r\n                         'Content-Type': 'application/json',\r\n                            'Authorization': `Bearer ${token}`\r\n                         },\r\n                         method:\"POST\",\r\n                         body: JSON.stringify({\r\n                            post: {\r\n                              title: title,\r\n                              description: description,\r\n                              price: price,\r\n                              willDeliver: willDeliver\r\n                            }})\r\n\r\n                    })\r\n\r\n                    let result = await response.json()\r\n                    \r\n                    navigate('/Posts', {replace: true})\r\n                \r\n             }catch(err){\r\n                 console.log(err)\r\n             }\r\n         }\r\n   \r\n\r\n\r\n     return(\r\n        //create a login form \r\n        <form onSubmit={(event)=>createPosts(event)}>\r\n            <label>Title:</label>\r\n            <input type=\"text\" value={title} onChange=\r\n            {(event)=>setTitle(event.target.value)}></input>\r\n\r\n            <label>Description:</label>\r\n            <input type=\"text\" value={description} onChange=\r\n            {(event)=>setDescription(event.target.value)}></input>\r\n\r\n            <label>Price:</label>\r\n            <input type=\"text\" value={price} onChange=\r\n            {(event)=>setPrice(event.target.value)}></input>\r\n\r\n            <label>Will Deliver?</label>\r\n            <input type=\"checkbox\" value={willDeliver} onChange=\r\n            {(event)=>setWillDeliver(event.target.value)}></input>\r\n            <button>submit</button>\r\n        </form>\r\n    )\r\n\r\n\r\n}"],"mappings":"0YAAA,OAAQA,QAAQ,CAACC,SAAS,KAAO,OAAO,CACxC,OAAQC,WAAW,KAAO,kBAAkB,CAAC,wFAE7C,cAAe,SAASC,WAAU,MAAS,IAAPC,MAAK,MAALA,KAAK,CACrC,GAAMC,KAAI,CAAG,+DAA+D,CAC5E,cAAsBL,QAAQ,CAAC,EAAE,CAAC,wCAA5BM,KAAK,eAACC,QAAQ,eACpB,eAAkCP,QAAQ,CAAC,EAAE,CAAC,yCAAxCQ,WAAW,eAACC,cAAc,eAChC,eAAsBT,QAAQ,CAAC,EAAE,CAAC,yCAA5BU,KAAK,eAACC,QAAQ,eACpB,eAAkCX,QAAQ,CAAC,IAAI,CAAC,yCAA1CY,WAAW,eAACC,cAAc,eAChC,GAAMC,SAAQ,CAAGZ,WAAW,EAAE,CAAC,QAKZa,YAAW,+IAA1B,iBAA2BC,KAAK,uIAC5BA,KAAK,CAACC,cAAc,EAAE,uCAEMC,MAAK,WAAIb,IAAI,WAAS,CAEzCc,OAAO,CAAC,CACJ,cAAc,CAAE,kBAAkB,CAC/B,eAAe,kBAAYf,KAAK,CACnC,CAAC,CACDgB,MAAM,CAAC,MAAM,CACbC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAClBC,IAAI,CAAE,CACJlB,KAAK,CAAEA,KAAK,CACZE,WAAW,CAAEA,WAAW,CACxBE,KAAK,CAAEA,KAAK,CACZE,WAAW,CAAEA,WACf,CAAC,CAAC,CAEV,CAAC,CAAC,QAfCa,QAAQ,qCAiBQA,SAAQ,CAACC,IAAI,EAAE,QAA9BC,MAAM,eAEVb,QAAQ,CAAC,QAAQ,CAAE,CAACc,OAAO,CAAE,IAAI,CAAC,CAAC,kFAGtCC,OAAO,CAACC,GAAG,aAAK,qEAEvB,8CAIL,oBACG;AACA,cAAM,QAAQ,CAAE,kBAACd,KAAK,QAAGD,YAAW,CAACC,KAAK,CAAC,EAAC,wBACxC,uBAAO,QAAM,EAAQ,cACrB,cAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAEV,KAAM,CAAC,QAAQ,CACxC,kBAACU,KAAK,QAAGT,SAAQ,CAACS,KAAK,CAACe,MAAM,CAACC,KAAK,CAAC,EAAC,EAAS,cAEhD,uBAAO,cAAY,EAAQ,cAC3B,cAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAExB,WAAY,CAAC,QAAQ,CAC9C,kBAACQ,KAAK,QAAGP,eAAc,CAACO,KAAK,CAACe,MAAM,CAACC,KAAK,CAAC,EAAC,EAAS,cAEtD,uBAAO,QAAM,EAAQ,cACrB,cAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAEtB,KAAM,CAAC,QAAQ,CACxC,kBAACM,KAAK,QAAGL,SAAQ,CAACK,KAAK,CAACe,MAAM,CAACC,KAAK,CAAC,EAAC,EAAS,cAEhD,uBAAO,eAAa,EAAQ,cAC5B,cAAO,IAAI,CAAC,UAAU,CAAC,KAAK,CAAEpB,WAAY,CAAC,QAAQ,CAClD,kBAACI,KAAK,QAAGH,eAAc,CAACG,KAAK,CAACe,MAAM,CAACC,KAAK,CAAC,EAAC,EAAS,cACtD,wBAAQ,QAAM,EAAS,GACpB,EAIf"},"metadata":{},"sourceType":"module","externalDependencies":[]}